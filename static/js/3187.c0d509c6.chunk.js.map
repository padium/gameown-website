{"version":3,"file":"static/js/3187.c0d509c6.chunk.js","mappings":"kPASA,SAASA,IACL,IAAAC,GAA8BC,EAAAA,EAAAA,WAAS,GAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAArCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GACpBI,GAAWC,EAAAA,EAAAA,MAiBjB,OAfAC,EAAAA,EAAAA,YAAU,YACNC,EAAAA,EAAAA,IAAW,kBAAMC,EAAAA,EAAAA,KAAAA,IAAmB,IAC/BC,MAAK,SAAAC,IACGC,EAAAA,EAAAA,WAAUD,EAASE,KAAMC,EAAAA,KAAAA,WAG1BV,GAAW,GAFXC,EAASU,EAAAA,EAAAA,kBAIjB,IACCC,OAAM,SAAAC,GACHC,QAAQD,MAAMA,GACdZ,EAASU,EAAAA,EAAAA,kBACb,GACR,GAAG,IAECZ,GACOgB,EAAAA,EAAAA,KAACC,EAAAA,EAAO,KAGZD,EAAAA,EAAAA,KAAA,OAAAE,SAAK,mBAChB,CAGA,UADY,WAAF,OAAQF,EAAAA,EAAAA,KAACG,EAAAA,EAAS,CAACC,SAASJ,EAAAA,EAAAA,KAACrB,EAAc,KAAK,C,wRCpB3C0B,EAAAA,EAAAA,IAAO,MAAPA,EAAc,SAAAC,GAAA,IAAEC,EAAKD,EAALC,MAAK,OAAAC,EAAAA,EAAAA,GAAA,CAChCC,SAAU,WACVC,aAAcH,EAAMI,MAAMD,aAC1BE,iBAAiBC,EAAAA,EAAAA,IAAMN,EAAMO,QAAQC,OAAOC,MAAO,KACnD,UAAW,CACPJ,iBAAiBC,EAAAA,EAAAA,IAAMN,EAAMO,QAAQC,OAAOC,MAAO,MAEvDC,YAAaV,EAAMW,QAAQ,GAC3BC,WAAY,EACZC,MAAO,QACNb,EAAMc,YAAYC,GAAG,MAAQ,CAC1BH,WAAYZ,EAAMW,QAAQ,GAC1BE,MAAO,QACV,KAGqBf,EAAAA,EAAAA,IAAO,MAAPA,EAAc,SAAAkB,GAAO,MAAO,CAClDC,QAD2CD,EAALhB,MACvBW,QAAQ,EAAG,GAC1BO,OAAQ,OACRhB,SAAU,WACViB,cAAe,OACfC,QAAS,OACTC,WAAY,SACZC,eAAgB,SACnB,KAEuBxB,EAAAA,EAAAA,IAAOyB,EAAAA,GAAPzB,EAAkB,SAAA0B,GAAA,IAAExB,EAAKwB,EAALxB,MAAK,MAAO,CACpDyB,MAAO,UACP,yBAAuBxB,EAAAA,EAAAA,GAAA,CACnBgB,QAASjB,EAAMW,QAAQ,EAAG,EAAG,EAAG,GAChCe,YAAY,cAADC,OAAgB3B,EAAMW,QAAQ,GAAE,KAC3CiB,WAAY5B,EAAM6B,YAAYC,OAAO,SACrCjB,MAAO,QACNb,EAAMc,YAAYC,GAAG,MAAQ,CAC1BF,MAAO,SAGlB,IAac,SAASkB,IACpB,IAAMpD,GAAWC,EAAAA,EAAAA,MAEjB,OACIa,EAAAA,EAAAA,KAACuC,EAAAA,EAAG,CAACC,GAAI,CAACC,SAAU,GAAGvC,UACnBwC,EAAAA,EAAAA,MAACC,EAAAA,EAAO,CAAAzC,SAAA,EACJF,EAAAA,EAAAA,KAACuC,EAAAA,EAAG,CAACC,GAAI,CAACpB,MAAO,SAASlB,UACtBwC,EAAAA,EAAAA,MAACE,EAAAA,EAAM,CAACC,QAAQ,OAAOC,QAAS,kBAAM5D,EAASU,EAAAA,EAAAA,KAAU,EAACM,SAAA,EACtDF,EAAAA,EAAAA,KAAA,OAAK+C,UAAU,kBAAkBC,IAAKC,EAAAA,EAAMC,IAAI,UAChDlD,EAAAA,EAAAA,KAAA,QAAM+C,UAAU,UAAS7C,SAAC,iBAGlCF,EAAAA,EAAAA,KAACuC,EAAAA,EAAG,CAACC,GAAI,CAACC,SAAU,QACpBzC,EAAAA,EAAAA,KAACuC,EAAAA,EAAG,CAAArC,UACAF,EAAAA,EAAAA,KAACmD,EAAAA,EAAU,CACPC,KAAK,QACL,aAAW,yBACXpB,MAAM,UAAS9B,UAEfF,EAAAA,EAAAA,KAACqD,EAAAA,EAAK,CAACC,aAAc,EAAGtB,MAAM,QAAO9B,UACjCF,EAAAA,EAAAA,KAACuD,EAAAA,EAAiB,cAO9C,C,sICjFe,SAASC,EAAYC,GAChC,IAAA7E,GAAwBC,EAAAA,EAAAA,UAAqC,CAAC,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAzD8E,EAAI5E,EAAA,GAAE6E,EAAO7E,EAAA,GACdI,GAAWC,EAAAA,EAAAA,MAEX2D,EAAU,SAACc,GACTA,EAAK1D,SAAS2D,OAAS,EACvBF,GAAOG,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGJ,GAAI,IAAAlD,EAAAA,EAAAA,GAAA,GAAGoD,EAAKG,IAAML,EAAKE,EAAKG,QACjCC,EAAAA,EAAAA,WAAUJ,EAAKK,SACtB/E,EAAS0E,EAAKK,OAEtB,EAEA,OAAOjE,EAAAA,EAAAA,KAACkE,EAAAA,EAAI,CAACC,UAAU,MAAKjE,SAEhBuD,EAAMW,MAAMC,KAAI,SAAAT,GACZ,OAAOlB,EAAAA,EAAAA,MAAA,OAAAxC,SAAA,EACHwC,EAAAA,EAAAA,MAAC4B,EAAAA,EAAc,CAACxB,QAAS,kBAAMA,EAAQc,EAAK,EAAC1D,SAAA,EACxC8D,EAAAA,EAAAA,WAAUJ,EAAKW,OAAQvE,EAAAA,EAAAA,KAACwE,EAAAA,EAAY,CAAAtE,SAAE0D,EAAKW,OAAuB,MACnEvE,EAAAA,EAAAA,KAACyE,EAAAA,EAAY,CAACC,QAASd,EAAKe,QAC3Bf,EAAK1D,SAAS2D,OAAS,EAAKH,EAAKE,EAAKG,KAAM/D,EAAAA,EAAAA,KAAC4E,EAAAA,EAAU,KAAK5E,EAAAA,EAAAA,KAAC6E,EAAAA,EAAU,IAAM,QAEjFjB,EAAK1D,SAAS2D,OAAS,GACpB7D,EAAAA,EAAAA,KAAC8E,EAAAA,EAAQ,CAACC,GAAIrB,EAAKE,EAAKG,IAAKiB,QAAQ,OAAOC,eAAa,EAAA/E,UACrDF,EAAAA,EAAAA,KAACkE,EAAAA,EAAI,CAACC,UAAU,MAAMe,gBAAc,EAAAhF,SAC/B0D,EAAK1D,SAASmE,KAAI,SAAAc,GACf,OAAOzC,EAAAA,EAAAA,MAAC4B,EAAAA,EAAc,CAAgB9B,GAAI,CAAC4C,GAAI,GAAItC,QAAS,kBAAMA,EAAQqC,EAAM,EAACjF,SAAA,EAC7EF,EAAAA,EAAAA,KAACwE,EAAAA,EAAY,CAAAtE,SACRiF,EAAMZ,QAEXvE,EAAAA,EAAAA,KAACyE,EAAAA,EAAY,CAACC,QAASS,EAAMR,UAJLQ,EAAMpB,GAMtC,QAEM,OAlBLH,EAAKG,GAoB1B,KAGhB,CCxBe,SAASsB,EAAQ5B,GAE5B,OAAOzD,EAAAA,EAAAA,KAACsF,EAAAA,EAAK,CAACC,UAAW,EAAErF,UACvBF,EAAAA,EAAAA,KAACkE,EAAAA,EAAI,CAACC,UAAU,MAAKjE,SAEbuD,EAAM+B,WAAWnB,KAAI,SAACoB,EAAUC,GAC5B,OAAOhD,EAAAA,EAAAA,MAAA,OAAAxC,SAAA,EACHwC,EAAAA,EAAAA,MAACiD,EAAAA,EAAK,CAA8B5C,UAAU,YAAY6C,UAAU,MAAM1E,QAAS,EAAEhB,SAAA,EAChF8D,EAAAA,EAAAA,WAAUyB,EAASlB,MAAQkB,EAASlB,KAAO,MAC3CP,EAAAA,EAAAA,WAAUyB,EAASd,QAAS3E,EAAAA,EAAAA,KAAC6F,EAAAA,EAAU,CAAA3F,SAAEuF,EAASd,QAAsB,OAFjEc,EAAS1B,GAAK,WAI1B/D,EAAAA,EAAAA,KAACwD,EAAW,CAACY,MAAOqB,EAASrB,QAC5BsB,EAAQjC,EAAM+B,WAAW3B,OAAS,GAAI7D,EAAAA,EAAAA,KAAC8F,EAAAA,EAAO,IAAK,OANvCL,EAAS1B,GAQ9B,OAIhB,C,uGC/BagC,EAAuB,CAChC,CACIhC,GAAI,EACJQ,KAAM,KACNI,MAAO,KACPP,MAAO,CACH,CACIL,GAAI,EACJQ,MAAMvE,EAAAA,EAAAA,KAACgG,EAAAA,EAAc,IACrBrB,MAAO,iBACPV,OAAQrE,EAAAA,EAAAA,kBACRM,SAAU,IAEd,CACI6D,GAAI,EACJQ,MAAMvE,EAAAA,EAAAA,KAACiG,EAAAA,EAAsB,IAC7BtB,MAAO,UACPV,OAAQrE,EAAAA,EAAAA,kBACRM,SAAU,MAItB,CACI6D,GAAI,IACJQ,KAAM,KACNI,MAAO,SACPP,MAAO,CACH,CACIL,GAAI,IACJQ,MAAMvE,EAAAA,EAAAA,KAACkG,EAAAA,EAAwB,IAC/BvB,MAAO,UACPV,OAAQrE,EAAAA,EAAAA,iBACRM,SAAU,IAEd,CACI6D,GAAI,IACJQ,MAAMvE,EAAAA,EAAAA,KAACmG,EAAAA,EAAW,IAClBxB,MAAO,iBACPV,OAAQrE,EAAAA,EAAAA,oBACRM,SAAU,MAItB,CACI6D,GAAI,IACJQ,KAAM,KACNI,MAAO,kBACPP,MAAO,CACH,CACIL,GAAI,IACJQ,MAAMvE,EAAAA,EAAAA,KAACoG,EAAAA,EAAY,IACnBzB,MAAO,qBACPV,OAAQrE,EAAAA,EAAAA,oBACRM,SAAU,OAMbmG,EAA8B,CACvCtC,GAAI,IACJQ,KAAM,KACNI,MAAO,kBACPP,MAAO,CACH,CACIL,GAAI,IACJQ,MAAMvE,EAAAA,EAAAA,KAACoG,EAAAA,EAAY,IACnBzB,MAAO,YACPV,OAAQrE,EAAAA,EAAAA,oBACRM,SAAU,IAEd,CACI6D,GAAI,IACJQ,MAAMvE,EAAAA,EAAAA,KAACsG,EAAAA,EAAqB,IAC5B3B,MAAO,YACPV,OAAQrE,EAAAA,EAAAA,sBACRM,SAAU,IAEd,CACI6D,GAAI,IACJQ,MAAMvE,EAAAA,EAAAA,KAACuG,EAAAA,EAAiB,IACxB5B,MAAO,QACPV,OAAQrE,EAAAA,EAAAA,kBACRM,SAAU,MAKTsG,EAA0B,CACnCzC,GAAI,IACJQ,KAAM,KACNI,MAAO,mBACPP,MAAO,CACH,CACIL,GAAI,IACJQ,MAAMvE,EAAAA,EAAAA,KAACyG,EAAAA,EAAkB,IACzB9B,MAAO,QACPV,OAAQrE,EAAAA,EAAAA,sBACRM,SAAU,IAEd,CACI6D,GAAI,IACJQ,MAAMvE,EAAAA,EAAAA,KAAC0G,EAAAA,EAAY,IACnB/B,MAAO,gBACPV,OAAQrE,EAAAA,EAAAA,sBACRM,SAAU,M,4CCtGP,SAASC,GAAUsD,GAC9B,IAAA7E,GAAgCC,EAAAA,EAAAA,UAASkH,GAAKjH,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvC+H,EAAQ7H,EAAA,GAAE8H,EAAW9H,EAAA,GAiB5B,OAfAM,EAAAA,EAAAA,YAAU,YACNC,EAAAA,EAAAA,IAAW,kBAAMwH,EAAAA,EAAAA,UAAAA,QAA4B,IACxCtH,MAAK,SAAAuH,GACF,IAAMC,GAAGC,EAAAA,EAAAA,GAAOjB,GAChBgB,EAAI,GAAKV,EACTO,EAAYG,IACZ1H,EAAAA,EAAAA,IAAW,kBAAMC,EAAAA,EAAAA,KAAAA,IAAmB,IAC/BC,MAAK,SAAAC,IACEC,EAAAA,EAAAA,WAAUD,EAASE,KAAMC,EAAAA,KAAAA,YACzBiH,EAAY,GAAD1E,QAAA8E,EAAAA,EAAAA,GAAKD,GAAG,CAAEP,IAE7B,GACR,GACR,GAAG,KAEI9D,EAAAA,EAAAA,MAAA,OAAAxC,SAAA,EACHF,EAAAA,EAAAA,KAACsC,EAAQ,KACTI,EAAAA,EAAAA,MAACuE,EAAAA,GAAI,CAACC,WAAS,EAAAhH,SAAA,EACXF,EAAAA,EAAAA,KAACiH,EAAAA,GAAI,CAACrD,MAAI,EAACuD,GAAI,EAAEjH,UACbF,EAAAA,EAAAA,KAACqF,EAAO,CAACG,WAAYmB,OAEzB3G,EAAAA,EAAAA,KAACiH,EAAAA,GAAI,CAACrD,MAAI,EAACuD,GAAI,GAAGjH,UACdF,EAAAA,EAAAA,KAACoH,EAAAA,EAAS,CAACjD,UAAU,OAAMjE,UACvBF,EAAAA,EAAAA,KAACsF,EAAAA,EAAK,CAACC,UAAW,EAAG/C,GAAI,CAACpB,MAAO,OAAQI,QAAS,QAAQtB,SACrDuD,EAAMrD,mBAM/B,C,kDCxCA,IAAMyG,EAAY,IAAIQ,EAAAA,QAAOC,GAJ7B,WACI,OAAOC,EAAAA,EAAAA,cAA4B,CAACC,IAAK,KAAMC,aAAc,KACjE,IAIA,K,kDCEA,IAAMnI,EAAY,IAAI+H,EAAAA,QAAOC,OAA4CI,GARzE,WACI,OAAOH,EAAAA,EAAAA,cAA4B,CAACC,IAAK,KAAMC,aAAc,KAAME,KAAM,KAC7E,IAEA,SAAoBH,EAAaC,EAAsBE,GACnDJ,EAAAA,EAAAA,aAAyB,CAACC,IAAAA,EAAKC,aAAAA,EAAcE,KAAAA,GACjD,IAIA,K,6FCZe,SAAS1H,IACpB,OAAOD,EAAAA,EAAAA,KAAC2F,EAAAA,EAAK,CAAC/D,WAAW,SAAQ1B,UAC7BF,EAAAA,EAAAA,KAAC4H,EAAAA,EAAgB,KAEzB,C,sICHaC,EAAM,CACfC,O,yKCCW,SAAezI,EAAU0I,GAAA,OAAAC,EAAAC,MAAA,KAAAC,UAAA,CAiBvC,SAAAF,IAAA,OAAAA,GAAAG,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAjBc,SAAAC,EAA6BC,GAAsB,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAG,OAAA,SACvD,IAAIC,SAAQ,SAACC,EAASC,GACzBR,IAAOhJ,MAAK,SAACyJ,GACTF,EAAQE,EACZ,IAAGnJ,OAAM,SAACC,GAAW,IAADmJ,EACE,OAAdnJ,EAAMoJ,OAAiBlF,EAAAA,EAAAA,WAAkC,QAAzBiF,EAAC1B,EAAAA,EAAAA,oBAAwB,IAAA0B,OAAA,EAAxBA,EAA0BxB,eAC3DnI,EAAAA,EAAAA,KAAAA,eAA8BC,MAAK,SAACuH,GAChCyB,IAAOhJ,MAAK,SAAC4J,GACTL,EAAQK,EACZ,IAAGtJ,OAAM,SAACuJ,GACRL,EAAOK,EACT,GACJ,IAEJL,EAAOjJ,EACX,GACJ,KAAE,wBAAA2I,EAAAY,OAAA,GAAAf,EAAA,MACLL,MAAA,KAAAC,UAAA,C","sources":["app/dashboard/admin/admin-users/page.tsx","components/dashboard/head-menu.tsx","components/dashboard/nav-menu-item.tsx","components/dashboard/nav-menu.tsx","app/dashboard/menu-items.tsx","app/dashboard/page.tsx","clients/padium.client.ts","clients/sso.client.ts","components/dashboard/loading.tsx","resources/index.ts","utils/auth/auth-refresh.ts"],"sourcesContent":["import Dashboard from \"../../page\"\nimport React, {useEffect, useState} from \"react\"\nimport handleAuth from \"../../../../utils/auth/auth-refresh\"\nimport Path from \"../../../../routes/path.enum\"\nimport Loading from \"../../../../components/dashboard/loading\"\nimport {useNavigate} from \"react-router\"\nimport ssoClient from \"../../../../clients/sso.client\"\nimport {isAllowed, Role} from \"@padium/sso\"\n\nfunction AdminUsersPage() {\n    const [loading, setLoading] = useState(true)\n    const navigate = useNavigate()\n\n    useEffect(() => {\n        handleAuth(() => ssoClient.role.me())\n            .then(response => {\n                if (!isAllowed(response.role, Role.Moderator)) {\n                    navigate(Path.DASHBOARD_PROFILE)\n                } else {\n                    setLoading(false)\n                }\n            })\n            .catch(error => {\n                console.error(error)\n                navigate(Path.DASHBOARD_PROFILE)\n            })\n    }, [])\n\n    if (loading) {\n        return <Loading/>\n    }\n\n    return <div>AdminUsers page</div>\n}\n\nconst page =() => <Dashboard content={<AdminUsersPage/>}/>\nexport default page","import * as React from 'react';\nimport {alpha, styled} from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\nimport IconButton from '@mui/material/IconButton';\nimport Typography from '@mui/material/Typography';\nimport InputBase from '@mui/material/InputBase';\nimport Badge from '@mui/material/Badge';\nimport SearchIcon from '@mui/icons-material/Search';\nimport NotificationsIcon from '@mui/icons-material/Notifications';\nimport {Button} from \"@mui/material\"\nimport Path from \"../../routes/path.enum\"\nimport {Logo} from \"../../resources\"\nimport {useNavigate} from \"react-router\"\n\nconst Search = styled('div')(({theme}) => ({\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: alpha(theme.palette.common.white, 0.15),\n    '&:hover': {\n        backgroundColor: alpha(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n        marginLeft: theme.spacing(3),\n        width: 'auto',\n    },\n}));\n\nconst SearchIconWrapper = styled('div')(({theme}) => ({\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n}));\n\nconst StyledInputBase = styled(InputBase)(({theme}) => ({\n    color: 'inherit',\n    '& .MuiInputBase-input': {\n        padding: theme.spacing(1, 1, 1, 0),\n        paddingLeft: `calc(1em + ${theme.spacing(4)})`,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n            width: '20ch',\n        },\n    },\n}));\n\n// <Box>\n//     <Search sx={{border: '1px solid black'}}>\n//         <SearchIconWrapper>\n//             <SearchIcon/>\n//         </SearchIconWrapper>\n//         <StyledInputBase\n//             placeholder=\"Search…\"\n//             inputProps={{'aria-label': 'search'}}\n//         />\n//     </Search>\n// </Box>\nexport default function HeadMenu() {\n    const navigate = useNavigate()\n\n    return (\n        <Box sx={{flexGrow: 1}}>\n            <Toolbar>\n                <Box sx={{width: '228px'}}>\n                    <Button variant=\"text\" onClick={() => navigate(Path.HOME)}>\n                        <img className=\"w-8 h-auto mr-1\" src={Logo} alt=\"logo\"/>\n                        <span className=\"text-xl\">Padium</span>\n                    </Button>\n                </Box>\n                <Box sx={{flexGrow: \"1\"}}/>\n                <Box>\n                    <IconButton\n                        size=\"large\"\n                        aria-label=\"show new notifications\"\n                        color=\"inherit\"\n                    >\n                        <Badge badgeContent={0} color=\"error\">\n                            <NotificationsIcon/>\n                        </Badge>\n                    </IconButton>\n                </Box>\n            </Toolbar>\n        </Box>\n    )\n}","import {Collapse, List, ListItemButton, ListItemIcon, ListItemText, Paper} from \"@mui/material\"\nimport {ReactElement, useState} from \"react\"\nimport {isNotNull} from \"@d-lab/common-kit\";\nimport {useNavigate} from \"react-router\"\nimport {ExpandLess, ExpandMore} from \"@mui/icons-material\"\nimport {MenuItem} from \"./nav-menu\"\n\nexport interface NavMenuItemProps {\n    items: MenuItem[]\n}\n\nexport default function NavMenuItem(props: NavMenuItemProps) {\n    const [open, setOpen] = useState<{ [key: string]: boolean }>({});\n    const navigate = useNavigate()\n\n    const onClick = (item: MenuItem) => {\n        if (item.children.length > 0) {\n            setOpen({...open, [item.id]: !open[item.id]})\n        } else if (isNotNull(item.target)) {\n            navigate(item.target!)\n        }\n    }\n\n    return <List component=\"nav\">\n            {\n                props.items.map(item => {\n                    return <div key={item.id}>\n                        <ListItemButton onClick={() => onClick(item)}>\n                            {isNotNull(item.icon) ? <ListItemIcon>{item.icon}</ListItemIcon> : null}\n                            <ListItemText primary={item.title}/>\n                            {item.children.length > 0 ? (open[item.id] ? <ExpandLess/> : <ExpandMore/>) : null}\n                        </ListItemButton>\n                        {item.children.length > 0 ?\n                            <Collapse in={open[item.id]} timeout=\"auto\" unmountOnExit>\n                                <List component=\"div\" disablePadding>\n                                    {item.children.map(child => {\n                                        return <ListItemButton key={child.id} sx={{pl: 4}} onClick={() => onClick(child)}>\n                                            <ListItemIcon>\n                                                {child.icon}\n                                            </ListItemIcon>\n                                            <ListItemText primary={child.title}/>\n                                        </ListItemButton>\n                                    })}\n                                </List>\n                            </Collapse> : null}\n                    </div>\n                })\n            }\n        </List>\n}","import {Divider, List, Paper, Stack, Typography} from \"@mui/material\"\nimport {ReactElement} from \"react\"\nimport {isNotNull} from \"@d-lab/common-kit\";\nimport NavMenuItem from \"./nav-menu-item\"\nimport \"./menu.css\"\n\nexport interface MenuCategory {\n    id: number,\n    icon: ReactElement | null\n    title: string | null\n    items: MenuItem[]\n}\n\nexport interface MenuItem {\n    id: number,\n    icon: ReactElement | null\n    title: string\n    target: string | null\n    children: MenuItem[]\n}\n\nexport interface NavMenuProps {\n    categories: MenuCategory[]\n}\n\nexport default function NavMenu(props: NavMenuProps) {\n\n    return <Paper elevation={0}>\n        <List component=\"nav\">\n            {\n                props.categories.map((category, index) => {\n                    return <div key={category.id}>\n                        <Stack key={category.id + \"_title\"} className=\"mt-1 ml-3\" direction=\"row\" spacing={1}>\n                            {isNotNull(category.icon) ? category.icon : null}\n                            {isNotNull(category.title) ? <Typography>{category.title}</Typography> : null}\n                        </Stack>\n                        <NavMenuItem items={category.items}/>\n                        {index < props.categories.length - 1 ? <Divider/> : null}\n                    </div>\n                })\n            }\n        </List>\n    </Paper>\n}","import {MenuCategory} from \"../../components/dashboard/nav-menu\"\nimport Path from \"../../routes/path.enum\"\nimport AccountBoxIcon from '@mui/icons-material/AccountBox'\nimport AdminPanelSettingsIcon from '@mui/icons-material/AdminPanelSettings'\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet'\nimport PaymentIcon from '@mui/icons-material/Payment'\nimport SportsEsportsIcon from '@mui/icons-material/SportsEsports'\nimport SupervisorAccountIcon from '@mui/icons-material/SupervisorAccount'\nimport BusinessIcon from '@mui/icons-material/Business'\nimport ManageAccountsIcon from '@mui/icons-material/ManageAccounts'\nimport SmartToyIcon from '@mui/icons-material/SmartToy'\n\nexport const menu: MenuCategory[] = [\n    {\n        id: 1,\n        icon: null,\n        title: null,\n        items: [\n            {\n                id: 2,\n                icon: <AccountBoxIcon/>,\n                title: \"Public Profile\",\n                target: Path.DASHBOARD_PROFILE,\n                children: []\n            },\n            {\n                id: 3,\n                icon: <AdminPanelSettingsIcon/>,\n                title: \"Account\",\n                target: Path.DASHBOARD_ACCOUNT,\n                children: []\n            }\n        ]\n    },\n    {\n        id: 100,\n        icon: null,\n        title: \"Wallet\",\n        items: [\n            {\n                id: 101,\n                icon: <AccountBalanceWalletIcon/>,\n                title: \"Balance\",\n                target: Path.DASHBOARD_WALLET,\n                children: []\n            },\n            {\n                id: 102,\n                icon: <PaymentIcon/>,\n                title: \"Payment Method\",\n                target: Path.DASHBOARD_W_PAYMENT,\n                children: []\n            }\n        ]\n    },\n    {\n        id: 200,\n        icon: null,\n        title: \"Game Management\",\n        items: [\n            {\n                id: 201,\n                icon: <BusinessIcon/>,\n                title: \"Become a Publisher\",\n                target: Path.DASHBOARD_PUBLISHER,\n                children: []\n            }\n        ]\n    }\n]\n\nexport const menuPublisher: MenuCategory = {\n    id: 200,\n    icon: null,\n    title: \"Game Management\",\n    items: [\n        {\n            id: 201,\n            icon: <BusinessIcon/>,\n            title: \"Publisher\",\n            target: Path.DASHBOARD_PUBLISHER,\n            children: []\n        },\n        {\n            id: 202,\n            icon: <SupervisorAccountIcon/>,\n            title: \"Operators\",\n            target: Path.DASHBOARD_P_OPERATORS,\n            children: []\n        },\n        {\n            id: 203,\n            icon: <SportsEsportsIcon/>,\n            title: \"Games\",\n            target: Path.DASHBOARD_P_GAMES,\n            children: []\n        }\n    ]\n}\n\nexport const menuAdmin: MenuCategory = {\n    id: 300,\n    icon: null,\n    title: \"Admin Management\",\n    items: [\n        {\n            id: 201,\n            icon: <ManageAccountsIcon/>,\n            title: \"Users\",\n            target: Path.DASHBOARD_ADMIN_USERS,\n            children: []\n        },\n        {\n            id: 202,\n            icon: <SmartToyIcon/>,\n            title: \"Game Approval\",\n            target: Path.DASHBOARD_ADMIN_GAMES,\n            children: []\n        }\n    ]\n}\n\n\n","import './page.module.css'\nimport {Container, Grid, Paper} from \"@mui/material\"\nimport HeadMenu from \"../../components/dashboard/head-menu\"\nimport NavMenu from \"../../components/dashboard/nav-menu\"\nimport {menu, menuAdmin, menuPublisher} from \"./menu-items\"\nimport {ReactNode, useEffect, useState} from \"react\"\nimport handleAuth from \"../../utils/auth/auth-refresh\"\nimport apiClient from \"../../clients/padium.client\"\nimport ssoClient from \"../../clients/sso.client\"\nimport {isAllowed, Role} from \"@padium/sso\"\n\nexport interface DashboardProps {\n    content: ReactNode\n}\n\nexport default function Dashboard(props: DashboardProps) {\n    const [navItems, setNavItems] = useState(menu)\n\n    useEffect(() => {\n        handleAuth(() => apiClient.publisher.getOwn())\n            .then(_ => {\n                const tmp = [...menu]\n                tmp[2] = menuPublisher\n                setNavItems(tmp)\n                handleAuth(() => ssoClient.role.me())\n                    .then(response => {\n                        if (isAllowed(response.role, Role.Moderator)) {\n                            setNavItems([...tmp, menuAdmin])\n                        }\n                    })\n            })\n    }, [])\n\n    return <div>\n        <HeadMenu/>\n        <Grid container>\n            <Grid item xs={2}>\n                <NavMenu categories={navItems}/>\n            </Grid>\n            <Grid item xs={10}>\n                <Container component=\"main\">\n                    <Paper elevation={1} sx={{width: \"100%\", padding: \"20px\"}}>\n                        {props.content}\n                    </Paper>\n                </Container>\n            </Grid>\n        </Grid>\n    </div>\n}\n","import {Client, Session} from \"@padium/core\"\nimport UserSession from \"../utils/storage/user-session\"\n\n// @ts-ignore\nfunction getSession(): Session {\n    return UserSession.getSession() || {jwt: null, refreshToken: null}\n}\n\nconst apiClient = new Client(process.env.REACT_APP_ENV === \"production\", getSession)\n\nexport default apiClient","import {Client, Session, TokenUser} from \"@padium/sso\"\nimport UserSession from \"../utils/storage/user-session\"\n\n// @ts-ignore\nfunction getSession(): Session {\n    return UserSession.getSession() || {jwt: null, refreshToken: null, user: null}\n}\n\nfunction setSession(jwt: string, refreshToken: string, user: TokenUser) {\n    UserSession.storeSession({jwt, refreshToken, user})\n}\n\nconst ssoClient = new Client(process.env.REACT_APP_ENV === \"production\", undefined, getSession, setSession)\n\nexport default ssoClient","import {CircularProgress, Stack} from \"@mui/material\"\n\nexport default function Loading() {\n    return <Stack alignItems=\"center\">\n        <CircularProgress />\n    </Stack>\n}","import Logo from \"./logo.png\"\nimport Google from \"./icons/google_ico.png\"\n\nexport const Ico = {\n    Google\n}\n\nexport { Logo }","import {isNotNull} from \"@d-lab/common-kit\"\nimport UserSession from \"../storage/user-session\"\nimport ssoClient from \"../../clients/sso.client\"\nimport {TokenResponse} from \"@padium/sso\"\n\nexport default async function handleAuth<T>(call: () => Promise<T>): Promise<T> {\n    return new Promise((resolve, reject) => {\n        call().then((data: T) => {\n            resolve(data)\n        }).catch((error) => {\n            if (error.code == \"601\" && isNotNull(UserSession.getSession()?.refreshToken)) {\n                ssoClient.auth.refreshToken().then((_: TokenResponse) => {\n                    call().then((data2: T) => {\n                        resolve(data2)\n                    }).catch((error2) => {\n                      reject(error2)\n                    })\n                })\n            }\n            reject(error)\n        })\n    })\n}"],"names":["AdminUsersPage","_useState","useState","_useState2","_slicedToArray","loading","setLoading","navigate","useNavigate","useEffect","handleAuth","ssoClient","then","response","isAllowed","role","Role","Path","catch","error","console","_jsx","Loading","children","Dashboard","content","styled","_ref","theme","_defineProperty","position","borderRadius","shape","backgroundColor","alpha","palette","common","white","marginRight","spacing","marginLeft","width","breakpoints","up","_ref3","padding","height","pointerEvents","display","alignItems","justifyContent","InputBase","_ref4","color","paddingLeft","concat","transition","transitions","create","HeadMenu","Box","sx","flexGrow","_jsxs","Toolbar","Button","variant","onClick","className","src","Logo","alt","IconButton","size","Badge","badgeContent","NotificationsIcon","NavMenuItem","props","open","setOpen","item","length","_objectSpread","id","isNotNull","target","List","component","items","map","ListItemButton","icon","ListItemIcon","ListItemText","primary","title","ExpandLess","ExpandMore","Collapse","in","timeout","unmountOnExit","disablePadding","child","pl","NavMenu","Paper","elevation","categories","category","index","Stack","direction","Typography","Divider","menu","AccountBoxIcon","AdminPanelSettingsIcon","AccountBalanceWalletIcon","PaymentIcon","BusinessIcon","menuPublisher","SupervisorAccountIcon","SportsEsportsIcon","menuAdmin","ManageAccountsIcon","SmartToyIcon","navItems","setNavItems","apiClient","_","tmp","_toConsumableArray","Grid","container","xs","Container","Client","process","UserSession","jwt","refreshToken","undefined","user","CircularProgress","Ico","Google","_x","_handleAuth","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","call","wrap","_context","prev","next","abrupt","Promise","resolve","reject","data","_UserSession$getSessi","code","data2","error2","stop"],"sourceRoot":""}